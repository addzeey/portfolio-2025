---
import { getEntryBySlug } from "astro:content";
import Layout from "../layouts/Layout.astro";

const uses = await getEntryBySlug("sections", "uses");
let Content;
if (uses) {
	Content = (await uses.render()).Content;
}
---

<Layout title={uses?.data.title ? `/uses â€“ ${uses.data.title}` : "/uses"}>
	<section class="uses-section">
		<div class="container">
			{
				uses ? (
					<>
						<h1 class="uses-title">{uses.data.title}</h1>
						<p class="uses-intro">{uses.data.description}</p>
						<article class="uses-body">
							{Content && <Content />}
						</article>
					</>
				) : (
					<div class="error-message">
						<h2>Uses page not found</h2>
						<p>The uses.md file could not be loaded.</p>
					</div>
				)
			}
		</div>
	</section>

	<style>
		.uses-section {
			padding: 120px 0 80px;
			background: var(--bg-dark);
			color: var(--text-light);
			min-height: 100vh;
		}
		.uses-intro {
			font-size: 20px;
			margin-bottom: 48px;
			opacity: 0.85;
		}
		.uses-body :global(h2) {
			font-size: 36px;
			font-weight: 700;
			margin-top: 24px;
			background: linear-gradient(45deg, var(--accent), var(--primary));
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}
		.uses-body :global(ul) {
			list-style: none;
			padding: 0;
			display: flex;
			flex-direction: column;
			gap: 12px;
		}
		.uses-body :global(li) {
			padding: 20px 10px;
			border-radius: 4px;
			border: 1px solid rgba(110, 53, 175, 0.3);
			transition: all 0.3s ease;
			position: relative;
			overflow: hidden;
			backdrop-filter: blur(10px);
			background: linear-gradient(to bottom right, #9146ff20, #7f7f7f10);
		}
		.uses-body li strong {
			color: var(--primary);
		}
		@media (max-width: 768px) {
			.uses-title {
				font-size: 32px;
			}
			.uses-category h2 {
				font-size: 22px;
			}
			.uses-category li {
				font-size: 16px;
			}
		}
	</style>
</Layout>
